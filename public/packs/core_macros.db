{"name":"Ruin Tokens","permission":{"default":0,"taXAFvhByAtu8MoU":3},"type":"script","flags":{"core":{"sourceId":"Macro.UIUpsTwS6c4oYRn9"},"combat-utility-belt":{"macroTrigger":""}},"scope":"global","command":"game.user.targets.forEach(t => {\n  // CONFIG BELOW:\n  // Number of images per size, going from S1 to S3.\n  let IMAGES_PER_SIZE = [2, 1, 1];\n  // Data path where your images are stored. Image files should be named like 'wreck-s2-1.png'. Last digit should be contiguous (don't have a 'wreck-s1-3.png' if there isn't a 'wreck-s1-2.png')\n  let IMAGE_PATH = \"wrecks/\";\n\n  // Script:\n  let size = t.actor.data.data.derived.mm.Size;\n  // Get random number between 1 and N, where n is number of images stored for mech size.\n  let rand = Math.ceil(Math.random() * IMAGES_PER_SIZE[size- 1]);\n  \n  let imgString = `${IMAGE_PATH}wreck-s${size}-${rand}.png`;\n  console.log(`Picked ${imgString} for ${t.name}`);\n\n  let data = {\n    img: imgString\n  };\n  t.update(data);\n  t.refresh();\n});","author":"taXAFvhByAtu8MoU","img":"systems/lancer/assets/icons/macro-icons/generic_item.svg","actorIds":[],"_id":"3qY1JO4MK6uK2znP"}
{"name":"Stabilize Token","permission":{"default":0,"PN55ItGPHjs7sY8L":3},"type":"script","flags":{"core":{"sourceId":"Macro.d699WQo7DT5zrIK7"}},"scope":"global","command":"(async ()=>{\n    \n    if (canvas.tokens.controlled.length !== 1) {\n        ui.notifications.error(\"Select one and only one token\");\n        return;\n    }\n\n    game.lancer.stabilizeMacro(canvas.tokens.controlled[0].actor.id);\n\n})();","author":"PN55ItGPHjs7sY8L","img":"systems/lancer/assets/icons/macro-icons/marker.svg","actorIds":[],"_id":"JJibZu1uKQAGTdp2"}
{"_id":"Q07qegz0pYbqIk61","name":"Structure Token","type":"script","author":"eC9B4k0LaO1597E7","img":"systems/lancer/assets/icons/macro-icons/condition_shredded.svg","scope":"global","command":"if (canvas.tokens.controlled.length !== 1) {\n    ui.notifications.error(\"Select one and only one token\");\n    return;\n}\ngame.lancer.prepareStructureMacro(token.actor);","folder":null,"sort":0,"permission":{"default":0,"eC9B4k0LaO1597E7":3},"flags":{"core":{"sourceId":"Macro.QwWNUKDeT8QcV1Hs"}}}
{"name":"Full Repair","permission":{"default":0,"PN55ItGPHjs7sY8L":3},"type":"script","flags":{"core":{"sourceId":"Macro.SaR8ruxHJ8xpF1Wj"}},"scope":"global","command":"(async ()=>{\n    \n    if (canvas.tokens.controlled.length !== 1) {\n        ui.notifications.error(\"Select one and only one token\");\n        return;\n    }\n\n    game.lancer.fullRepairMacro(canvas.tokens.controlled[0].actor.id);\n\n})();","author":"PN55ItGPHjs7sY8L","img":"systems/lancer/assets/icons/macro-icons/repair.svg","actorIds":[],"_id":"RUi3krm3oDSFiIvh"}
{"_id":"kk1B4eEs5kxMhcMy","name":"Overheat Token","type":"script","author":"eC9B4k0LaO1597E7","img":"systems/lancer/assets/icons/macro-icons/damage_heat.svg","scope":"global","command":"if (canvas.tokens.controlled.length !== 1) {\n  ui.notifications.error(\"Select one and only one token\");\n  return;\n}\ngame.lancer.prepareOverheatMacro(token.actor);","folder":null,"sort":0,"permission":{"default":0,"eC9B4k0LaO1597E7":3},"flags":{"core":{"sourceId":"Macro.bzlNd5XL876ZeG16"}}}
