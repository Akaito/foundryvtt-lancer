<form class="{{cssClass}} lancer-sheet" autocomplete="off">
  
  {{!-- Sheet Header --}}
  <header class="sheet-header card clipped-bot">
    <img class="profile-img" src="{{item.img}}" data-edit="item.img" title="{{item.name}}" height="100" width="100"/>
    <div class="header-fields" style="grid-area: 1/1/2/5">
      <h1 class="frame-name "><input class="header-field" name="item.name" type="text" value="{{item.name}}" placeholder="Name"/></h1>
    </div>
    <div class="header-fields" style="grid-area: 2/1/3/4">
      {{{ ref-manufacturer mm.ent.Source }}}
      <h3 class="mfr-name">{{mm.ent.Source.Name}}</h3>
    </div>
  </header>

  {{!-- Description --}}
  <div class="flexcol card clipped" style="text-align: left;">
    <span class="lancer-stat-header major clipped-top" style="text-align: center;">DESCRIPTION</span>
    <div class="desc-text">{{editor content=mm.ent.Description target="mm.ent.Description" button=true owner=owner editable=editable}}</div>
  </div>

  {{!-- Frame Stats --}}
  {{#*inline "stat-edit"}}
    <div class="flexcol card clipped quad-item">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="{{icon}} i--m i--light" styles="float: left; padding-left: 10px"> </i>
        <span class="major">{{title}}</span>
      </div>
      {{{l-num-input path (rp path)}}}
    </div>
  {{/inline}}

  <div class="card clipped mech-stats wraprow" style="display: flex; flex-wrap: wrap;">
    {{> stat-edit title="HP"          icon="mdi mdi-heart-outline" path="mm.ent.Stats.hp" }}
    {{> stat-edit title="ARMOR"       icon="mdi mdi-shield-outline" path="mm.ent.Stats.armor" }}
    {{> stat-edit title="REPAIRS"     icon="cci cci-repair" path="mm.ent.Stats.repcap" }}
    {{> stat-edit title="EVASION"     icon="cci cci-evasion" path="mm.ent.Stats.evasion" }}
    {{> stat-edit title="E-DEF"       icon="cci cci-edef" path="mm.ent.Stats.edef" }}
    {{> stat-edit title="HEAT CAP"    icon="cci cci-heatcap" path="mm.ent.Stats.heatcap" }}
    {{> stat-edit title="SPEED"       icon="mdi mdi-arrow-right-bold-hexagon-outline" path="mm.ent.Stats.speed" }}
    {{> stat-edit title="TECH ATK"    icon="cci cci-tech-full" path="mm.ent.Stats.tech_attack" }}
    {{> stat-edit title="SENSORS"     icon="cci cci-sensor" path="mm.ent.Stats.sensor_range" }}
    {{> stat-edit title="SAVE"        icon="cci cci-save" path="mm.ent.Stats.save" }}
    {{> stat-edit title="SYS POINTS"  icon="cci cci-system" path="mm.ent.Stats.sp" }}
    {{!-- {{> stat-edit title="SIZE"  icon=(concat "cci cci-" mm.ent.Stats.size " size-icon theme--main") path="mm.ent.Stats.size" }} --}}
    {{> stat-edit title="SIZE"        icon="cci cci-hexagon" path="mm.ent.Stats.size" }}
  </div>

  {{!-- Mounts --}}
  <div class="flexcol">
    <div>
      <span class="minor" style="float: left">AVAILABLE WEAPON MOUNTS</span>
      <a id="add-mount-button" class="add-button" style="float: right; margin-right: 1em">+</a>
    </div>
    <div class="flexrow">
      {{#each mm.ent.Mounts as |mount key|}}
      <div class="flexrow mount arrayed-item">
        <select class="mount-selector" name="mm.ent.Mounts.{{key}}" data-type="String" index="{{key}}">
          {{#select mount}}
          <option value="Aux/Aux">AUX/AUX</option>
          <option value="Main">MAIN</option>
          <option value="Main/Aux">MAIN/AUX</option>
          <option value="Flex">FLEX</option>
          <option value="Heavy">HEAVY</option>
          <option value="Integrated">INTEGRATED</option>
          <option value="Superheavy">SUPERHEAVY</option>
          <option value="delete">DELETE</option>
          {{/select}}
        </select>
      </div>
      {{/each}}
    </div>
  </div>

  {{!-- Traits --}}
  <div id="frame-traits" class="flexcol">
    <div>
      <span class="minor" style="float: left">TRAITS</span>
      <a class="add-button clickable" style="float: right">+</a>
    </div>
    <ul>
    {{#each mm.ent.Traits as |trait key|}}
      <li class="card clipped frame-trait-compact" data-key="{{key}}">
        <div class="lancer-mech-trait-header medium clipped-top" style="grid-area: 1/1/2/2">
          <i class="cci cci-trait i--m i--light" styles="float: left; padding-left: 10px"> </i>
          <input class="lancer-invisible-input major i--light" name="mm.ent.Traits.{{key}}.Name" value="{{trait.Name}}" data-dtype="String" />
          <a class="remove-button" data-index="{{key}}" style="float: right; margin-right: 11px; margin-top: 2px;">
            <i class="fas fa-trash"></i>
          </a>
        </div>
        <textarea class="lancer-invisible-input effect-text" name="mm.ent.Traits.{{key}}.Description" data-dtype="String" style="grid-area: 2/1/3/2">{{trait.Description}}</textarea>
        {{{bonuses-editor (concat "mm.ent.Traits." key ".Bonuses") trait.Bonuses}}}
      </li>
    {{/each}}
    </ul>
  </div>

  {{!-- Core System --}}
  <div class="card clipped frame-core flexcol">
    <div class="lancer-core-sys-header medium clipped-top">
      <i></i>
      <input class="lancer-invisible-input major i--light" name="mm.ent.CoreSystem.Name" value="{{mm.ent.CoreSystem.Name}}" data-dtype="String" />
      <div class="medium i--faded" style="justify-self: right;"> // CORE SYSTEM</div>
    </div>
    <div class="desc-text">{{editor content=mm.ent.CoreSystem.Description target="mm.ent.CoreSystem.Description" button=true owner=owner editable=editable}}</div>

    {{!-- Want to make these show jumpable little items --}}
    {{#each mm.ent.CoreSystem.Integrated as |integrated key|}}
      {{{ref-item integrated}}}
    {{/each}}
    {{#each mm.ent.CoreSystem.Deployables as |deployable key|}}
      {{{ref-item deployable}}}
    {{/each}}

    <div class="card clipped">
      <div class="lancer-core-sys-header medium clipped-top">
        <i class="mdi mdi-circle-expand i--m i--light"> </i>
        <input class="lancer-invisible-input medium i--light" name="mm.ent.CoreSystem.PassiveName" value="{{mm.ent.CoreSystem.PassiveName}}" data-dtype="String" />
        <div class="medium i--faded" style="justify-self: right;"> // PASSIVE</div>
      </div>
      <div class="effect-text">{{editor content=mm.ent.CoreSystem.PassiveEffect target="mm.ent.CoreSystem.PassiveEffect" button=true owner=owner editable=editable}}</div>
    </div>
    <div class="card clipped">
      <div class="lancer-core-sys-header medium clipped-top">
        <i class="cci cci-corebonus i--m i--light"> </i>
        <input class="lancer-invisible-input medium i--light" name="mm.ent.CoreSystem.ActiveName" value="{{mm.ent.CoreSystem.ActiveName}}" data-dtype="String" />
        <div class="i--faded" style="justify-self: right;"> // ACTIVE</div>
      </div>
      <div class="effect-text">{{editor content=mm.ent.CoreSystem.ActiveEffect target="mm.ent.CoreSystem.ActiveEffect" button=true owner=owner editable=editable}}</div>
    </div>
    <div class="flexcol arrayed-item-container tags-container" style="margin: 10px;" data-item="core_system.tags">
      <div class="flexrow lancer-title">
        <div class="major">TAGS</div>
      </div>
      {{#each mm.ent.CoreSystem.Tags as |tag key|}}
        {{{full-tag tag key "mm.ent.CoreSystem.Tags"}}}
      {{/each}}
    </div>
  </div>
</form>