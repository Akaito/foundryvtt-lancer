<form class="{{cssClass}} lancer-sheet" autocomplete="off">

  {{!-- Sheet Header --}}
  <header class="sheet-header card clipped-bot">
    <img class="profile-img" src="{{actor.img}}" data-edit="actor.img" title="{{actor.name}}" height="100" width="100"/>
    <div class="header-fields" style="grid-area: 1/1/2/5;">
      <h1 class="charname"><input class="header-field" name="actor.name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
    </div>
  </header>

  <div style="display:flex; justify-content: center">
    <!-- Editable hp -->
    <div class="flexcol card clipped" style="width: 20%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="mdi mdi-heart-outline i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">HP</span>
      </div>
      <div class="flexrow" style="align-self: center;">
        <input class="lancer-stat major" type="number" name="mm.ent.CurrentHP" value="{{mm.ent.CurrentHP}}" data-dtype="Number"/>
        <span class="medium" style="max-width: min-content;" >/</span>
        <span class="lancer-stat major">{{mm.ent.MaxHP}}</span>
      </div>
    </div>

    <!-- Editable heat -->
    <div class="flexcol card clipped" style="width: 20%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="cci cci-heat i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">HEAT</span>
      </div>
      <div class="flexrow" style="align-self: center;">
        <input class="lancer-stat major" type="number" name="mm.ent.CurrentHeat" value="{{mm.ent.CurrentHeat}}" data-dtype="Number"/>
        <span class="medium" style="max-width: min-content;">/</span>
        <span class="lancer-stat major">{{mm.ent.HeatCapacity}}</span>
      </div>
    </div>

    <!-- Fixed armor -->
    <div class="flexcol card clipped" style="width: 20%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="mdi mdi-shield-outline i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">ARMOR</span>
      </div>
      <span class="lancer-stat major">{{mm.ent.Armor}}</span>
    </div>

    <!-- Fixed evasion -->
    <div class="flexcol card clipped" style="width: 20%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="cci cci-evasion i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">EVASION</span>
      </div>
      <span class="lancer-stat major">{{mm.ent.Evasion}}</span>
    </div>


    <!-- Fixed e-def -->
    <div class="flexcol card clipped" style="width: 20%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="cci cci-edef i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">E-DEF</span>
      </div>
        <span class="lancer-stat major"  >{{mm.ent.EDefense}}</span>
    </div>
  </div>

  <!-- Row 2: Pilot drop box -->
  <div style="display:flex; justify-content: center">
    <div class="flexcol card clipped" style="width: 60%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="cci cci-pilot i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">PILOT</span>
      </div>
      <div class="actor-ref-drop">
        {{{actor-slot mm.ent.Pilot "mm.ent.Pilot" "pilot"}}}
      </div>
    </div>
    
    <!-- Fixed speed -->
    <div class="flexcol card clipped" style="width: 20%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="cci cci-edef i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">SPEED</span>
      </div>
        <span class="lancer-stat major"  >{{mm.ent.Speed}}</span>
    </div>

    <!-- Editable repairs speed -->
    <div class="flexcol card clipped" style="width: 20%">
      <div class="lancer-stat-header clipped-top flexrow">
        <i class="cci cci-edef i--m i--light" style="float: left; padding-left: 10px"> </i>
        <span class="major">Repairs</span>
      </div>
      <div class="flexrow" style="align-self: center;">
        <input class="lancer-stat major" type="number" name="mm.ent.CurrentRepairs" value="{{mm.ent.CurrentRepairs}}" data-dtype="Number"/>
        <span class="medium" style="max-width: min-content;">/</span>
        <span class="lancer-stat major">{{mm.ent.RepairCapacity}}</span>
      </div>
    </div>

  </div>

  <div class="flexcol card clipped">
    <span class="lancer-stat-header major clipped-top">LOADOUT</span>
    {{{mech-loadout mm.ent.Loadout "mm.ent.Loadout"}}}
  </div>

  <div class="flexcol card clipped">
    <span class="lancer-stat-header major clipped-top">FRAMES</span>
    {{#each mm.ent.OwnedFrames as |frame|}}
      {{{ref-mm frame}}}
    {{/each}}
  </div>

  <div class="flexcol card clipped">
    <span class="lancer-stat-header major clipped-top">WEAPONS</span>
    {{#each mm.ent.OwnedWeapons as |weapon|}}
      {{{ref-mm weapon}}}
    {{/each}}
  </div> 
  
  <div class="flexcol card clipped">
    <span class="lancer-stat-header major clipped-top">SYSTEMS</span>
    {{#each mm.ent.OwnedSystems as |system|}}
      {{{ref-mm system}}}
    {{/each}}
  </div>

  <div class="flexcol card clipped">
    <span class="lancer-stat-header major clipped-top">MODS</span>
    {{#each mm.ent.OwnedWeaponMods as |mod|}}
      {{{ref-mm mod}}}
    {{/each}}
  </div>
</form>